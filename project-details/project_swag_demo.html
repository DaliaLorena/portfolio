<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Automatizaci√≥n Swag Demo | Proyecto</title>
<style>
body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #F5F5DC; color: #222; }
header { padding: 1.5rem; border-bottom: 1px solid #ddd; text-align: center; }
header a { text-decoration: none; color: #F5F5DC; font-weight: bold; }
.content { max-width: 900px; margin: 2rem auto; padding: 1rem; }
h1 { font-size: 2rem; margin-bottom: 0.5rem; }
p { line-height: 1.6; }
pre { background: #F5F5DC; padding: 1rem; border-radius: 6px; overflow-x: auto; }
code { font-family: Consolas, monospace; }
sombra {  background-color: gray;
  padding: 4px;}    
</style>
</head>
<body>
<header>
<a href="../index.html">‚¨Ö Volver al portafolio</a>
</header>


<div class="content">
<h1>Automatizaci√≥n E2E - Swag Demo</h1>


<p>
Este proyecto automatiza completamente el flujo de validaci√≥n y compra en el sitio
<strong>Swag Demo</strong> utilizando Selenium. Incluye validaci√≥n de elementos, manejo de errores,
comparaci√≥n de valores esperados vs reales, manejo de login, carrito de compras y finalizaci√≥n de orden.
</p>


<section>
    
    <h2> ¬øQu√© hace el script? </h2>


<p>‚Ä¢ Abre el sitio https://www.saucedemo.com</p>
<p>‚Ä¢ Inicia sesi√≥n con usuario y contrase√±a</p>
<p>‚Ä¢ Valida productos, nombres, precios y descripciones</p>
<p>‚Ä¢ Agrega un producto al carrito</p>
<p>‚Ä¢ Completa el proceso de compra</p>
<p>‚Ä¢ Muestra mensajes de validaci√≥n en consola</p>
<p>‚Ä¢ Cierra el navegador al finalizar</p>
    
    
    
</section>

    

<h2> C√≥digo del script</h2>
<p>Este es el script completo utilizado para la automatizaci√≥n:</p>


<pre><code>







# NOTA: Para la creaci√≥n de los scripts de pruebas generalmente creo dos archivos python. Uno donde coloco funciones para cada paso gen√©rico que puedo utilizar en diversos flujos y procesos
# (ejemplo: inicio de sesi√≥n, compra de productos, editar datos de usuario, etc.) y despu√©s un script principal donde importo esas funciones, lo que hace que el mantenimiento y
# la creaci√≥n de nuevos scripts por procesos nuevos sea mucho m√°s r√°pido. En este caso particular decid√≠ crear un solo script para que sea m√°s f√°cil la ejecuci√≥n.


from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.chrome.service import Service
from selenium.webdriver.chrome.options import Options
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from webdriver_manager.chrome import ChromeDriverManager
import time
import logging
logging.disable(logging.CRITICAL)


options = Options()
options.add_argument("--start-maximized")
options.add_argument("--disable-gpu")
options.add_argument("--no-sandbox")
options.add_argument("--disable-notifications")
options.add_argument("--disable-infobars")
options.add_argument("--disable-save-password-bubble")
options.add_argument("--log-level=3")
options.add_argument("--silent")
options.add_experimental_option(
    "excludeSwitches", ["enable-logging", "enable-automation"])
options.add_experimental_option('useAutomationExtension', False)
options.add_argument("--incognito")
prefs = {
    "credentials_enable_service": False,
    "profile.password_manager_enabled": False
}
options.add_experimental_option("prefs", prefs)

service = Service(ChromeDriverManager().install())
driver = webdriver.Chrome(service=service, options=options)

try:

    # NOTA: Los xpaths y textos los guardo en un json para cargarlo en el script. En este caso no lo hice por la ruta del archivo json que se encuentra en mi equipo.
    # Ejemplo de c√≥mo cargar√≠a el archivo json: with open("C:\\Mi Usuario\\Mi-equipo\\Desktop\\Docs Scripts\\xpaths_pruebas.json", 'r', encoding='utf-8') as file:
    # config = json.load(file)

    xpaths_login = {
        "pagina_inicio": "/html/body/div/div/div[1]",
        "username":  "/html/body/div/div/div[2]/div[1]/div/div/form/div[1]/input",
        "password": "/html/body/div/div/div[2]/div[1]/div/div/form/div[2]/input",
        "login_boton": "/html/body/div/div/div[2]/div[1]/div/div/form/input",
        "products": "/html/body/div/div/div/div[1]/div[2]/span"}

    items = [
        {"name": "Error en el nombre del producto",
         "xpath_name": "/html/body/div/div/div/div[2]/div/div/div/div[1]/div[2]/div[1]/a/div",
         "description": "carry.allTheThings() with the sleek, streamlined Sly Pack that melds uncompromising style with unequaled laptop and tablet protection.",
         "xpath_description": "/html/body/div/div/div/div[2]/div/div/div/div[1]/div[2]/div[1]/div",
         "price": "$29.99",
         "xpath_price": "/html/body/div/div/div/div[2]/div/div/div/div[1]/div[2]/div[2]/div",
         "add_cart": "/html/body/div/div/div/div[2]/div/div/div/div[1]/div[2]/div[2]/button"},
        {"name": "Sauce Labs Bike Light",
         "xpath_name": "/html/body/div/div/div/div[2]/div/div/div/div[2]/div[2]/div[1]/a/div",
         "description": "A red light isn't the desired state in testing but it sure helps when riding your bike at night. Water-resistant with 3 lighting modes, 1 AAA battery included.",
         "xpath_description": "/html/body/div/div/div/div[2]/div/div/div/div[2]/div[2]/div[1]/div",
         "price": "$9.99",
         "xpath_price": "/html/body/div/div/div/div[2]/div/div/div/div[2]/div[2]/div[2]/div",
         "add_cart": "/html/body/div/div/div/div[2]/div/div/div/div[2]/div[2]/div[2]/button"},
        {"name": "Sauce Labs Bolt T-Shirt",
         "xpath_name": "/html/body/div/div/div/div[2]/div/div/div/div[3]/div[2]/div[1]/a/div",
         "description": "Get your testing superhero on with the Sauce Labs bolt T-shirt. From American Apparel, 100% ringspun combed cotton, heather gray with red bolt.",
         "xpath_description": "/html/body/div/div/div/div[2]/div/div/div/div[3]/div[2]/div[1]/div",
         "price": "Error en el precio",
         "xpath_price": "/html/body/div/div/div/div[2]/div/div/div/div[3]/div[2]/div[2]/div",
         "add_cart": "/html/body/div/div/div/div[2]/div/div/div/div[3]/div[2]/div[2]/button"},
        {"name": "Sauce Labs Fleece Jacket",
         "xpath_name": "/html/body/div/div/div/div[2]/div/div/div/div[4]/div[2]/div[1]/a/div",
         "description": "It's not every day that you come across a midweight quarter-zip fleece jacket capable of handling everything from a relaxing day outdoors to a busy day at the office.",
         "xpath_description": "/html/body/div/div/div/div[2]/div/div/div/div[4]/div[2]/div[1]/div",
         "price": "$49.99",
         "xpath_price": "/html/body/div/div/div/div[2]/div/div/div/div[4]/div[2]/div[2]/div",
         "add_cart": "/html/body/div/div/div/div[2]/div/div/div/div[4]/div[2]/div[2]/button"},
        {"name": "Sauce Labs Onesie",
         "xpath_name": "/html/body/div/div/div/div[2]/div/div/div/div[5]/div[2]/div[1]/a/div",
         "description": "Rib snap infant onesie for the junior automation engineer in development. Reinforced 3-snap bottom closure, two-needle hemmed sleeved and bottom won't unravel.",
         "xpath_description": "/html/body/div/div/div/div[2]/div/div/div/div[5]/div[2]/div[1]/div",
         "price": "$7.99",
         "xpath_price": "/html/body/div/div/div/div[2]/div/div/div/div[5]/div[2]/div[2]/div",
         "add_cart": "/html/body/div/div/div/div[2]/div/div/div/div[5]/div[2]/div[2]/button"},
        {"name": "Test.allTheThings() T-Shirt (Red)",
         "xpath_name": "/html/body/div/div/div/div[2]/div/div/div/div[6]/div[2]/div[1]/a/div",
         "description": "Error en la descripci√≥n del producto.",
         "xpath_description": "/html/body/div/div/div/div[2]/div/div/div/div[6]/div[2]/div[1]/div",
         "price": "$15.99",
         "xpath_price": "/html/body/div/div/div/div[2]/div/div/div/div[6]/div[2]/div[2]/div",
         "add_cart": "/html/body/div/div/div/div[2]/div/div/div/div[6]/div[2]/div[2]/button"}

    ]
    xpaths_products = {
        "add_cart_product": "/html/body/div/div/div/div[2]/div/div/div/div[2]/div[2]/div[2]/button",
        "info_product": "A red light isn't the desired state in testing but it sure helps when riding your bike at night. Water-resistant with 3 lighting modes, 1 AAA battery included.",
        "name_product": "Sauce Labs Bike Light",
        "seleccionar_carrito": "/html/body/div/div/div/div[1]/div[1]/div[3]/a",
        "contador_carrito": "/html/body/div/div/div/div[1]/div[1]/div[3]/a/span",
        "nombre_producto": "/html/body/div/div/div/div[2]/div/div[1]/div[3]/div[2]/a/div",
        "descripcion_producto": "/html/body/div/div/div/div[2]/div/div[1]/div[3]/div[2]/div[1]",
        "precio_producto": "/html/body/div/div/div/div[2]/div/div[1]/div[3]/div[2]/div[2]",
        "checkout_boton": "/html/body/div/div/div/div[2]/div/div[2]/button[2]",
        "first_name": "/html/body/div/div/div/div[2]/div/form/div[1]/div[1]/input",
        "last_name": "/html/body/div/div/div/div[2]/div/form/div[1]/div[2]/input",
        "zip_code": "/html/body/div/div/div/div[2]/div/form/div[1]/div[3]/input",
        "continue_boton": "/html/body/div/div/div/div[2]/div/form/div[2]/input",
        "finish_boton": "/html/body/div/div/div/div[2]/div/div[2]/div[9]/button[2]",
        "compra_finalizada": "/html/body/div/div/div/div[2]/h2",
        "texto_finish": "Thank you for your order!"


    }

    wait = WebDriverWait(driver, 30)

    driver.get("https://www.saucedemo.com/")
    time.sleep(3)

    # Inicio de sesi√≥n

    pagina_inicio = wait.until(EC.element_to_be_clickable(
        (By.XPATH, xpaths_login["pagina_inicio"]))).text.strip()

    if pagina_inicio == "Swag Labs":
        print(
            f"üöÄ Te encuentras en la p√°gina de inicio de sesi√≥n de {pagina_inicio} üöÄ")

    else:
        print(f"La p√°gina no pudo abrirse")

    username = wait.until(EC.element_to_be_clickable((By.XPATH, xpaths_login["username"]
                                                      ))).send_keys("standard_user")
    time.sleep(3)

    password = wait.until(EC.element_to_be_clickable((By.XPATH, xpaths_login["password"]
                                                      ))).send_keys("secret_sauce")
    time.sleep(3)

    login_boton = wait.until(EC.element_to_be_clickable((By.XPATH, xpaths_login["login_boton"]
                                                         ))).click()
    time.sleep(3)

    products = wait.until(EC.element_to_be_clickable((By.XPATH, xpaths_login["products"]
                                                      ))).text.strip()

    assert products == "Products", f"‚ùå No se muestra 'Products', en lugar se muestra {products}"

    print(f"‚úÖ Se muestra la pantalla {products}")
    time.sleep(3)

    # Validaci√≥n de productos:

    for item in items:

        # NOTA: Coloqu√© algunos errores para que se pueda apreciar c√≥mo se muestra

        print(f"üü∞üü∞üü∞   Validando el producto: {item['name']} üü∞üü∞üü∞")

        producto = wait.until(EC.element_to_be_clickable(
            (By.XPATH, item["xpath_name"]))).text.strip()
        time.sleep(3)
        if producto == item["name"]:

            print(f"üü¢ Se encuentra el producto: {producto}")
        else:
            print(
                f"‚ùå El nombre del producto no es correcto. Se esperaba el nombre: {item['name']} y se muestra el nombre: {producto}")

        descripcion_producto = wait.until(EC.element_to_be_clickable(
            (By.XPATH, item["xpath_description"]))).text.strip()
        time.sleep(3)
        if descripcion_producto == item["description"]:
            print(
                f"üü¢ La descripci√≥n mostrada es correcta. La descripci√≥n es: {descripcion_producto}")
        else:
            print(
                f"‚ùå La descripci√≥n mostrada es incorrecta. Se esperaba la descripci√≥n: {item['description']} y se muestra: {descripcion_producto}")

        precio = wait.until(EC.element_to_be_clickable(
            (By.XPATH, item["xpath_price"]))).text.strip()
        time.sleep(3)

        # Se utiliza una funci√≥n para normalizar el precio ya que tiene un salto de l√≠nea

        def normalizar(precio):
            return "\n".join(linea.strip() for linea in precio.strip().splitlines() if linea.strip())
        precio_producto = normalizar(precio)
        if precio_producto == item["price"]:
            print(
                f"üü¢ El precio mostrado es correcto. Se muestra el precio: {precio_producto} y se esperaba el precio: {item['price']}")
        else:
            print(
                f"‚ùå El precio mostrado no es correcto. Se esperaba el precio: {item['price']} y se muestra el precio: {precio_producto}")

        # Compra de un producto:

    print(f"üí≤üí≤üí≤  Comprando un producto üí≤üí≤üí≤")

    # Validar si el carrito est√° vac√≠o (Al agregar un producto al carrito se crea un elemento contador, al quitar el producto el elemento desaparece del DOM)

    try:
        driver.find_element(
            By.XPATH, xpaths_products["contador_carrito"])
        print("‚ùå El carrito ya tiene un producto agregado")
    except:
        print("‚úÖ El carrito est√° vac√≠o.")

    agregar_carrito = wait.until(EC.element_to_be_clickable(
        (By.XPATH, xpaths_products["add_cart_product"]))).click()
    time.sleep(3)

    # Validar si se agreg√≥ el producto al carrito:

    try:
        driver.find_element(
            By.XPATH, xpaths_products["contador_carrito"])
        print("‚úÖ El producto se agreg√≥ al carrito")
    except:
        print("‚ùå El carrito est√° vac√≠o.")

    seleccionar_carrito = wait.until(EC.element_to_be_clickable(
        (By.XPATH, xpaths_products["seleccionar_carrito"]))).click()
    time.sleep(3)

    # Validar info del producto:

    nombre_producto = wait.until(EC.element_to_be_clickable(
        (By.XPATH, xpaths_products["nombre_producto"]))).text.strip()
    if nombre_producto == xpaths_products["name_product"]:
        print(
            f"üü¢ El nombre del producto es correcto: {nombre_producto}")
    else:
        print(
            f"‚ùå El nombre del producto no es correcto. Se esperaba el nombre: {xpaths_products['name_product']} y se muestra el nombre: {nombre_producto}")

    checkout_boton = wait.until(EC.element_to_be_clickable(
        (By.XPATH, xpaths_products["checkout_boton"]))).click()
    time.sleep(3)

    first_name = wait.until(EC.element_to_be_clickable(
        (By.XPATH, xpaths_products["first_name"]))).send_keys("Usuario")
    time.sleep(2)
    last_name = wait.until(EC.element_to_be_clickable(
        (By.XPATH, xpaths_products["last_name"]))).send_keys("Prueba")
    time.sleep(2)
    zip_code = wait.until(EC.element_to_be_clickable(
        (By.XPATH, xpaths_products["zip_code"]))).send_keys("Prueba")
    time.sleep(2)

    continue_boton = wait.until(EC.element_to_be_clickable(
        (By.XPATH, xpaths_products["continue_boton"]))).click()
    time.sleep(3)

    finish_boton = wait.until(EC.element_to_be_clickable(
        (By.XPATH, xpaths_products["finish_boton"]))).click()
    time.sleep(3)

    compra_finalizada = wait.until(EC.element_to_be_clickable(
        (By.XPATH, xpaths_products["compra_finalizada"]))).text.strip()

    if compra_finalizada == xpaths_products["texto_finish"]:
        print(
            f"üü¢ La compra se complet√≥ exitosamente: {compra_finalizada}")
    else:
        print(
            f"‚ùå La compra no se finaliz√≥")

    print("‚ùáÔ∏è     Las pruebas se concluyeron mostrando los errores encontrados.")

except Exception as e:
    print("‚ùå Error durante la prueba:", repr(e))

finally:
    driver.quit()




</code></pre>



    
<h2> Instructivo para correr el script (Python 3.11.9 + Selenium) </h2>
    
<p>Este instructivo explica c√≥mo instalar todo lo necesario y ejecutar el script del demo Swag Labs (SauceDemo) usando Python 3.11.9 y Selenium:</p>


<section>
    
<h2> Python 3.11.9</h2>

<p>Descargar desde:</p>
        
<p><u>https://www.python.org/downloads/release/python-3119/</u></p>

<p>Durante la instalaci√≥n aseg√∫rate de marcar:</p>

<p>‚Ä¢ Add python.exe to PATH</p>
<p>‚Ä¢ Install pip</p>
    
</section>

<section>
    
<h2> Google Chrome instalado</h2>

<p>El script usa Chrome a trav√©s de Selenium WebDriver.</p>

<p>Descarga desde:</p>
    
<p><u>https://www.google.com/chrome//</u></p>
    
</section>


<section>
    
<h2> Instalar dependencias necesarias</h2>

<p>Abre CMD, PowerShell o Terminal, y ejecuta:</p>

<p>‚Ä¢ pip install selenium</p>
<p>‚Ä¢ pip install webdriver-manager</p>
    
</section>

<section>
    
<h2> Crear la carpeta del proyecto</h2>

<p>‚Ä¢ Crea una carpeta en tu escritorio o donde prefieras, por ejemplo:</p>  

<p><u>C:\SwagDemo\</u></p>

<p>‚Ä¢ Dentro coloca el script, por ejemplo:</p>  

<p><u>C:\SwagDemo\swag_demo.py</u></p>    
    
    
</section>    

<section>
    
<h2> Ejecutar el script</h2>

<p>‚Ä¢ Abre terminal dentro de la carpeta del proyecto:</p> 

<p><sombra>cd C:\SwagDemo</sombra></p>

<p>‚Ä¢ Y ejecuta:</p> 

<p><sombra>python swag_demo.py</sombra></p>    
    
    
</section>       

      

</div>
</body>

</html>












